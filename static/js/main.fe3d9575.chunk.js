(this["webpackJsonpsimple-blog"]=this["webpackJsonpsimple-blog"]||[]).push([[0],{18:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(13),r=a.n(s),l=(a(18),a(8)),i=a.n(l),o=a(5),j=a(0),d=function(e){var t=e.blogs,a=e.title,n=e.gridCol;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:"primaryHeading",children:a}),Object(j.jsx)("div",{className:"py-4 grid gap-4 grid-cols-1 ".concat(n),children:t.map((function(e){var t,a,n=e.title,c=e.author,s=e.date,r=e.content,l=e.id;return Object(j.jsx)(o.b,{to:"/blogs/".concat(l),children:Object(j.jsxs)("figure",{className:"figure",children:[Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsxs)("h2",{className:"figure__title",children:[" ",n]}),Object(j.jsx)("span",{className:"figure__date",children:i()(s).format("MMMM Do YYYY")})]}),Object(j.jsxs)("span",{className:"figure__author",children:["by ",c]}),Object(j.jsxs)("p",{className:"figure__content",children:[r.substring(0,(t=100,a=120,Math.floor(Math.random()*(t-a+1))+a))," ..."]})]})},l)}))})]})},b=a(6),u=a.n(b),h=a(9),m=a(3),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,a=Object(n.useState)(null),c=Object(m.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(!0),i=Object(m.a)(l,2),o=i[0],j=i[1],d=Object(n.useState)(null),b=Object(m.a)(d,2),x=b[0],O=b[1],f=Object(n.useCallback)(Object(h.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.prev=1,t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:if(n=t.sent,a.ok){t.next=10;break}throw new Error("Could not fetch data. Received ".concat(a.status));case 10:r(n),j(!1),O(null),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),j(!1),O(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,15]])}))),[e]);return Object(n.useEffect)((function(){return setTimeout((function(){f()}),t),function(){r(null),j(!1),O(null)}}),[f,t]),{data:s,loading:o,error:x}},O=function(){var e=x("http://localhost:8000/blogs"),t=e.data,a=e.loading,n=e.error;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container",children:[n&&Object(j.jsx)("div",{className:"text-4xl font-extrabold flex justify-center items-center h-screen",children:n}),a&&Object(j.jsx)("div",{className:"text-6xl font-extrabold flex justify-center h-screen items-center",children:"Loading..."}),t&&0===t.length&&Object(j.jsx)("div",{className:"text-6xl font-extrabold flex justify-center h-screen items-center",children:"No Blogs Found"}),t&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{gridCol:"md:grid-cols-2 2xl:grid-cols-3",blogs:t,title:"Your Daily Blogs!"}),Object(j.jsx)(d,{gridCol:"md:grid-cols-2",blogs:t.filter((function(e){return"Noman Sheikh"===e.author})),title:"Noman's Blogs!"})]})]})})},f=[{id:1,name:"Home",link:"/",extraClass:""},{id:2,name:"New Blog",link:"/create",extraClass:"bg-pink-light hover:bg-pink-dark text-white-light"}],g=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("nav",{className:"navbar",children:[Object(j.jsx)(o.b,{to:"/",className:"text-2xl",children:"Simple Blogify"}),Object(j.jsx)("ul",{className:"navbar__links",children:f.map((function(e){var t=e.name,a=e.link,n=e.id,c=e.extraClass;return Object(j.jsx)("li",{className:"navbar__links__item ".concat(c),children:Object(j.jsx)(o.b,{className:"p-3",to:a,children:t})},n)}))})]})})},p=a(2),v=a(10),N=a(7),y=function(e){var t=e.idName,a=e.placeholder,n=e.type,c=e.value,s=e.onChange;return Object(j.jsx)("input",{required:!0,value:c,onChange:s,type:n,className:"formControl",id:t,name:t,placeholder:a})},k=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),l=Object(m.a)(r,2),i=l[0],o=l[1],j=function(){var t=Object(h.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:n=t.sent,o(!1),n.ok?s("success"):s("error"),setTimeout((function(){s(null)}),2500),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),o(!1),s("error"),setTimeout((function(){s(null)}),2500);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){s(null),o(null)}}),[]),{success:c,loading:i,sendData:j}},C=function(){var e=Object(n.useState)({title:"",author:"Farhan Ahmed Hasan",content:""}),t=Object(m.a)(e,2),a=t[0],c=t[1],s=k("http://localhost:8000/blogs"),r=s.success,l=s.loading,i=s.sendData,o=function(e){var t=e.target.value,n=e.target.name;c(Object(N.a)(Object(N.a)({},a),{},Object(v.a)({},n,t)))};return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{className:"primaryHeading",children:"Add a new Blog"}),Object(j.jsxs)("form",{className:"grid grid-cols-1 gap-4 place-items-center",onSubmit:function(e){e.preventDefault();var t=Object(N.a)(Object(N.a)({},a),{},{date:Date.now()});i(t),c({title:"",author:"Farhan Ahmed Hasan",content:""})},children:[Object(j.jsxs)("div",{className:"w-3/6",children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title :"}),Object(j.jsx)(y,{placeholder:"Your blog title",idName:"title",type:"text",value:a.title,onChange:o})]}),Object(j.jsxs)("div",{className:"w-3/6",children:[Object(j.jsx)("label",{htmlFor:"author",children:"Author :"}),Object(j.jsxs)("select",{required:!0,value:a.author,onChange:o,name:"author",className:"formControl cursor-pointer capitalize",children:[Object(j.jsx)("option",{value:"Farhan Ahmed Hasan",defaultValue:!0,children:"Farhan Ahmed Hasan"}),Object(j.jsx)("option",{value:"Noman Sheikh",children:"Noman Sheikh"}),Object(j.jsx)("option",{value:"Rayhan Rahat",children:"Rayhan Rahat"}),Object(j.jsx)("option",{value:"Fahad Sikhder",children:"Fahad Sikhder"})]})]}),Object(j.jsxs)("div",{className:"w-3/6",children:[Object(j.jsx)("label",{htmlFor:"content",children:"Content :"}),Object(j.jsx)("textarea",{required:!0,value:a.content,onChange:o,className:"formControl",id:"content",name:"content",rows:"10",placeholder:"Your Blog's Content"})]}),l?Object(j.jsx)("button",{className:"btn btn--primary transition-all active:-translate-y-2 mt-4 mb-8",disabled:!0,children:"Processing..."}):Object(j.jsx)("button",{className:"btn btn--primary transition-all active:-translate-y-2 mt-4 mb-8",children:"Submit"})]}),"success"===r&&Object(j.jsx)("div",{className:"success",children:"Your Blog has been added successfully"}),"error"===r&&Object(j.jsx)("div",{className:"danger",children:"Something Went Wrong !! We couldn't create your blog"})]})};var S=function(){var e=Object(p.g)().id,t=x("http://localhost:8000/blogs/".concat(e),200),a=t.data,n=t.loading,c=t.error,s=a||{},r=s.title,l=s.author,o=s.content,d=s.date;return Object(j.jsxs)("div",{children:[n&&Object(j.jsx)("div",{className:"text-6xl font-extrabold flex justify-center h-screen items-center",children:"Loading..."}),c&&Object(j.jsx)("div",{className:"text-4xl font-extrabold flex justify-center items-center h-screen",children:c}),a&&Object(j.jsxs)("article",{className:"container",children:[Object(j.jsx)("h2",{className:"primaryHeading",children:r}),Object(j.jsxs)("span",{className:"figure__author text-center text-sm mb-6 capitalize",children:["Written by ",l," on ",Object(j.jsx)("span",{className:"text-black-light",children:i()(d).format("MMMM Do YYYY")})]}),Object(j.jsx)("p",{className:"max-w-5xl mx-auto mb-6",children:o}),Object(j.jsx)("div",{className:"flex justify-center",children:Object(j.jsx)("button",{className:"btn btn--primary",onClick:function(){console.log("delete blog")},children:"Delete Blog"})})]})]})},w=function(){return Object(j.jsxs)("div",{style:{height:"calc(100vh - 65px)"},className:"container flex justify-around items-center",children:[Object(j.jsx)("h2",{className:"primaryHeading",children:"Seems like you are lost !! \ud83d\udc94\ud83d\udc94"}),Object(j.jsx)(o.b,{to:"/",className:"btn btn--primary",children:"Go to Home"})]})};var _=function(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(g,{}),Object(j.jsxs)(p.c,{children:[Object(j.jsx)(p.a,{exact:!0,path:"/",element:Object(j.jsx)(O,{})}),Object(j.jsx)(p.a,{path:"/create",element:Object(j.jsx)(C,{})}),Object(j.jsx)(p.a,{path:"/blogs/:id",element:Object(j.jsx)(S,{})}),Object(j.jsx)(p.a,{path:"*",element:Object(j.jsx)(w,{})})]})]})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.fe3d9575.chunk.js.map